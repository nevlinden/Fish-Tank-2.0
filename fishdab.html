<html>
	<head>
		<title>FishTank 2.0</title>
		<script src="http://cloud.github.com/downloads/processing-js/processing-js/processing-1.4.1.min.js"></script>
		<script type="text/processing" data-processing-target="mycanvas">
        //Your code goes here 
        
        // Declare and contruct two objects (h1, h2) from the class HorizontalLine 
        HorizontalLine slowLine = new HorizontalLine(20, 2.0); 
        
        HorizontalLine fastLine = new HorizontalLine(50, 2.5); 

        Fish randomFish = new Fish(100, 200);

        Fish fishWidthNoParameters = new Fish(); 

        Fish fishHeightNoParameters = new Fish(); 
        

        Shark randomShark = new Shark(100, 200);

        Shark sharkWidthNoParameters = new Shark(); 

        Shark sharkHeightNoParameters = new Shark(); 

        //since these are variables we don't want to ever change in the code, we capitalize them 
        var WINDOW_WIDTH = 400;
        var WINDOW_HEIGHT = 400; 
        var GREY = 204;
        //This function only runs once at the start of the program
        void setup() {
          size(WINDOW_WIDTH, WINDOW_HEIGHT); //sets the size of the window
        
          frameRate(30); //how many times the draw function is called per second
        
        }
        
        
        //called repeatedly
        void draw() { 
        
          background(GREY); //needed in the draw function to "clear" the screen between updates
        
          slowLine.moveLine(); 
        
          fastLine.moveLine();  

          randomFish.drawFish();

          randomFish.swim();

          randomShark.drawShark();

          randomShark.swim();
        
        } 
        
         
        //This is the definition of your object
        //a class consists of: 
        //attributes which describes the object 
        //a constructor which sets the default values for the attributes 
        //and functions which manipulate/give information about the attributes
        class HorizontalLine { 
        
		  //attributes        
          var yPos, speed; //float means they can be decimals
        
          //constructor
          //allows us to easily create different 
          HorizontalLine (float y, float s) {  
        
            yPos = y; 
        
            speed = s; 
        
          } 
          
          void moveLine() {
          	update();
          	drawLine();
          }
          
          void update() { 
        
            yPos += speed; 
        
        	//height is a pre-defined variable that is the pixel value for the bottom of the screen
            if (yPos > height) { 
              yPos = 0; 
            } 
            
        
          }
          
          void drawLine() {
            //width is a pre-defined variable that is the pixel value for the right of the screen
          	line(0, yPos, width, yPos); 
          } 
        }

          class Fish
          {
            //attributes
            var bodyHeight, bodyWidth, tailHeight, tailWidth,bodyColor;

            //constructor
            Fish(var fh, var fw)
            {

                //attributes on the left, paramters on the right
                fishHeight = random(40,50);
                fishWidth = random(60,100);
                tailHeight = random(20,30);
                tailWidth = random(10,15);
                fishColor = color(random(0,255), random(0,255), random(0,255));
                fishCenterX = random(70,350);
                fishCenterY = random(70,350);


            }

              void drawFish()
            {
              noStroke();
              fill(fishColor);
              ellipse(fishCenterX,fishCenterY,fishWidth,fishHeight);  
              var tailWidth = fishWidth/4;
              var tailHeight = fishHeight/2;
              fill(fishColor);
              triangle(fishCenterX-fishWidth/2, fishCenterY, fishCenterX-fishWidth/2-tailWidth,fishCenterY-tailHeight,fishCenterX-fishWidth/2-tailWidth, fishCenterY + tailHeight);
          
              fill(0, 0, 0);
              ellipse(fishCenterX+fishWidth/4, fishCenterY, fishHeight/5, fishHeight/5);
          
            }
          
            void swim()
            {
              fishCenterX = fishCenterX + 2;
              if(fishCenterX-fishWidth > width){
                fishCenterX = -fishWidth/2;
              }

            }
          }

          class Shark
          {
            //attributes
            var sharkHeight, sharkWidth, sharktailHeight, sharktailWidth, sharkColor;

            //constructor
            Shark(var sh, var sw)
            {

                //attributes on the left, paramters on the right
                sharkHeight = random(40,50);
                sharkWidth = random(100,150);
                sharktailHeight = random(20,30);
                sharktailWidth = random(10,15);
                sharkColor = color(random(0,255), random(0,255), random(0,255));
                sharkCenterX = random(70,350);
                sharkCenterY = random(70,350);


            }

              void drawShark()
            {
              noStroke();
              fill(sharkColor);
              ellipse(sharkCenterX,sharkCenterY,sharkWidth,sharkHeight);  
              var sharktailWidth = sharkWidth/4;
              var sharktailHeight = sharkHeight/2;
              fill(sharkColor);
              triangle(sharkCenterX-sharkWidth/2, sharkCenterY, sharkCenterX-sharkWidth/2-sharktailWidth, sharkCenterY-sharktailHeight, sharkCenterX-sharkWidth/2-sharktailWidth, sharkCenterY + sharkHeight);
          
              fill(0, 0, 0);
              ellipse(sharkCenterX+fishWidth/4, sharkCenterY, sharkHeight/5, sharkHeight/5);

              var sharkfinWidth = sharkWidth/4;
              var sharkfinHeight = sharkHeight/1.5;


              fill(sharkColor);
              triangle(sharkCenterX-sharkWidth/20-sharkWidth/8, sharkCenterY-sharkHeight/3, sharkCenterX-sharkWidth/8, sharkCenterY - sharkHeight/2 - sharkfinHeight, sharkCenterX+sharkWidth/4-sharkWidth/8, sharkCenterY-sharkHeight/3);
          
            }
              
            void swim()
            {
              sharkCenterX = sharkCenterX + 4;
              if(sharkCenterX-sharkWidth > width){
                sharkCenterX = -sharkWidth/2;
              }
            }
            }
          
          
        </script> 
    </head>
    
    <body>
		<canvas id="mycanvas"></canvas>
	</body>
</html>